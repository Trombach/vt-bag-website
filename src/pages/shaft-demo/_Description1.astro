---
import fi from "../../assets/fi.png";
import { Image } from "astro:assets";
---

<p class="desc">
  These pages demonstrate the pseudo-smooth-scroll effect, commonly seen on websites
  that use view transitions for elements larger than the viewport.
</p>
<p class="desc">This can give the website the appearance of dynamic movement, but it can also be quite disruptive if it occurs unexpectedly.</p>
<Image id="fi" src={fi} alt="" />

<p class="desc">
  Use the navigation bar on the left to explore Steps 1 through 4 and learn more
  about what causes this effect.
</p>

<p class="desc">
  Take <a href="/shaft-demo/2/#bot">Step 1</a> to find out how to identify the pseudo-smooth-scroll effect
  on a web-site.
</p>

<h2>Lorem Ipsum Text 1</h2>

<p class="lorem">
  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer nec odio.
  Praesent libero. Sed cursus ante dapibus diam. Sed nisi. Nulla quis sem at
  nibh elementum imperdiet. Duis sagittis ipsum. Praesent mauris. Fusce nec
  tellus sed augue semper porta. Mauris massa. Vestibulum lacinia arcu eget
  nulla. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per
  inceptos himenaeos. Curabitur sodales ligula in libero. Sed dignissim lacinia
  nunc. Curabitur tortor. Pellentesque nibh. Aenean quam. In scelerisque sem at
  dolor. Maecenas mattis. Sed convallis tristique sem. Proin ut ligula vel nunc
  egestas porttitor. Morbi lectus risus, iaculis vel, suscipit quis, luctus non,
  massa.
</p>
<p class="lorem">
  Fusce ac turpis quis ligula lacinia aliquet. Mauris ipsum. Nulla metus metus,
  ullamcorper vel, tincidunt sed, euismod in, nibh. Quisque volutpat condimentum
  velit. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per
  inceptos himenaeos. Nam nec ante. Sed lacinia, urna non tincidunt mattis,
  tortor neque adipiscing diam, a cursus ipsum ante quis turpis. Nulla facilisi.
  Ut fringilla. Suspendisse potenti. Nunc feugiat mi a tellus consequat
  imperdiet. Vestibulum sapien. Proin quam. Etiam ultrices. Suspendisse in justo
  eu magna luctus suscipit. Sed lectus. Integer euismod lacus luctus magna.
</p>
<p class="lorem">
  Fusce ac turpis quis ligula lacinia aliquet. Mauris ipsum. Nulla metus metus,
  ullamcorper vel, tincidunt sed, euismod in, nibh. Quisque volutpat condimentum
  velit. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per
  inceptos himenaeos. Nam nec ante. Sed lacinia, urna non tincidunt mattis,
  tortor neque adipiscing diam, a cursus ipsum ante quis turpis. Nulla facilisi.
  Ut fringilla. Suspendisse potenti. Nunc feugiat mi a tellus consequat
  imperdiet. Vestibulum sapien. Proin quam. Etiam ultrices. Suspendisse in justo
  eu magna luctus suscipit. Sed lectus. Integer euismod lacus luctus magna.
</p>
<p class="lorem">
  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer nec odio.
  Praesent libero. Sed cursus ante dapibus diam. Sed nisi. Nulla quis sem at
  nibh elementum imperdiet. Duis sagittis ipsum. Praesent mauris. Fusce nec
  tellus sed augue semper porta. Mauris massa. Vestibulum lacinia arcu eget
  nulla. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per
  inceptos himenaeos. Curabitur sodales ligula in libero. Sed dignissim lacinia
  nunc. Curabitur tortor. Pellentesque nibh. Aenean quam. In scelerisque sem at
  dolor. Maecenas mattis. Sed convallis tristique sem. Proin ut ligula vel nunc
  egestas porttitor. Morbi lectus risus, iaculis vel, suscipit quis, luctus non,
  massa.
</p><p class="lorem">
  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer nec odio.
  Praesent libero. Sed cursus ante dapibus diam. Sed nisi. Nulla quis sem at
  nibh elementum imperdiet. Duis sagittis ipsum. Praesent mauris. Fusce nec
  tellus sed augue semper porta. Mauris massa. Vestibulum lacinia arcu eget
  nulla. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per
  inceptos himenaeos. Curabitur sodales ligula in libero. Sed dignissim lacinia
  nunc. Curabitur tortor. Pellentesque nibh. Aenean quam. In scelerisque sem at
  dolor. Maecenas mattis. Sed convallis tristique sem. Proin ut ligula vel nunc
  egestas porttitor. Morbi lectus risus, iaculis vel, suscipit quis, luctus non,
  massa.
</p>
<p class="lorem">
  Fusce ac turpis quis ligula lacinia aliquet. Mauris ipsum. Nulla metus metus,
  ullamcorper vel, tincidunt sed, euismod in, nibh. Quisque volutpat condimentum
  velit. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per
  inceptos himenaeos. Nam nec ante. Sed lacinia, urna non tincidunt mattis,
  tortor neque adipiscing diam, a cursus ipsum ante quis turpis. Nulla facilisi.
  Ut fringilla. Suspendisse potenti. Nunc feugiat mi a tellus consequat
  imperdiet. Vestibulum sapien. Proin quam. Etiam ultrices. Suspendisse in justo
  eu magna luctus suscipit. Sed lectus. Integer euismod lacus luctus magna.
</p>
<p class="lorem">
  Fusce ac turpis quis ligula lacinia aliquet. Mauris ipsum. Nulla metus metus,
  ullamcorper vel, tincidunt sed, euismod in, nibh. Quisque volutpat condimentum
  velit. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per
  inceptos himenaeos. Nam nec ante. Sed lacinia, urna non tincidunt mattis,
  tortor neque adipiscing diam, a cursus ipsum ante quis turpis. Nulla facilisi.
  Ut fringilla. Suspendisse potenti. Nunc feugiat mi a tellus consequat
  imperdiet. Vestibulum sapien. Proin quam. Etiam ultrices. Suspendisse in justo
  eu magna luctus suscipit. Sed lectus. Integer euismod lacus luctus magna.
</p>
<p class="lorem">
  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer nec odio.
  Praesent libero. Sed cursus ante dapibus diam. Sed nisi. Nulla quis sem at
  nibh elementum imperdiet. Duis sagittis ipsum. Praesent mauris. Fusce nec
  tellus sed augue semper porta. Mauris massa. Vestibulum lacinia arcu eget
  nulla. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per
  inceptos himenaeos. Curabitur sodales ligula in libero. Sed dignissim lacinia
  nunc. Curabitur tortor. Pellentesque nibh. Aenean quam. In scelerisque sem at
  dolor. Maecenas mattis. Sed convallis tristique sem. Proin ut ligula vel nunc
  egestas porttitor. Morbi lectus risus, iaculis vel, suscipit quis, luctus non,
  massa.
</p>

<p id="bot" class="desc">
  Disabling the group animation on the content element removes the
  pseudo-smooth-scroll effect. But the result won't look good: Now, instead of
  the current area of the old element, some other area is shown. The transition
  group jumps directly to the position of the new image, and for the old image
  shows what ever happens to be at that position in the old element.
</p>

<div id="outerouter">
  <div id="outer">
    <div id="dia">
      <div>Page 1, step 0/4</div>
      <div><br /><br /><br /><br /><br />Page 2, step 1</div>
      <div>Page 2, step 2</div>
      <div><br /><br /><br /><br /><br />Page 1, step 3</div>
      <div>Page 1, step 0/4</div>
    </div>
    <div id="screen">Viewport</div>
  </div>
</div>
<p class="desc">
  So the old images jumps away from its current content, and even worse, the
  position shown instead might be empty if the screen was not rendered
  completely yet or while the snapshot of the old image was taken.
</p>

<p class="desc">
  Take <a href="/shaft-demo/1/">Step 4</a> if you want to revisit this demo again, click the "Exit"
  button in the header to exit the demo, or <a href="/shaft-demo2/1/">see the Cam-Shaft script in action</a> and how it removes the pseudo-smooth-scroll effect.
</p>
<style is:global>
  #fi {
    view-transition-name: fi;
  }
  #dia div {
    height: 200px;
  }

  #outer {
    height: 200px;
    animation: none;
  }
  #outerouter {
    margin-top: 0px;
    animation: none;
  }
  #screen {
    top: -200px;
    animation: Vshift 5s infinite linear;
  }

  @keyframes Vshift {
    0%,
    24.99% {
      transform: translateY(100px);
    }
    25%,
    49.99% {
      transform: translateY(0px);
    }
    50%,
    74.99% {
      transform: translateY(100px);
    }
    75%,
    100% {
      transform: translateY(0px);
    }
  }
  @keyframes hshift {
    0% {
      transform: translateX(0px);
    }
    15% {
      transform: translateX(-100px);
    }
    25% {
      transform: translateX(-100px);
    }
    40% {
      transform: translateX(-200px);
    }
    50% {
      transform: translateX(-200px);
    }
    65% {
      transform: translateX(-300px);
    }
    75% {
      transform: translateX(-300px);
    }
    90% {
      transform: translateX(-400px);
    }
    100% {
      transform: translateX(-400px);
    }
  }

</style>
